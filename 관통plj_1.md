# 관통 PJT 실습목표
   1. 파이썬으로
   2. 정보를 가져와서
   3. 내가 원하는 정보 출력




# 전문용어 이해하기

### <서버와 클라이언트>

- 서버 : 부탁을 받으면 처리해주거나 부탁대로 원하는 값을 돌려주는 역할
- 클라이언트 : 부탁하는 역할

서버는 그냥 원하는 데이터를 주는 역할이라 생각
지금도 자주 쓰고 있는 내용임    
where? git(클라이언트)에서 github(서버)로

브라우저(클라이언트)가 포털사이트(서버)에게 메인화면을 부탁하는 것도 서버-클라이언트 관계

- 클라이언트: 날씨 정보 줘 with Python

- 날씨 정보를 가지고 있는 서버 : 날씨 정보 줄게



### <그럼 클라이언트는 어떻게 서버에 요청할 수 있을까?>

1. 웹 브라우저(크롬)을 켜서 '주소창에 주소(URL)를 입력'

2. 서버에 정보를 요청하는 '파이썬 코드를 작성'



서버가 만들어 놓은대로 우리가 받는다.


### <그럼 파이썬 코드는 어떻게 작성할까?>

vscode 확인(example.py)

남들이 만들어놓은 코드를 가져다가 쓰자! => 라이브러리

그 중 공짜 라이브러리를 오픈 소스라고 한다.

데이터를 가져오는 python 라이브러리(패키지) : requests

파이썬 패키지 관리 : pip

```python
pip install requests : 패키지 설치

pip list : 설치한 패키지들 확인

<그럼 어떻게 가져올래?>

import requests

파이썬이 함수를 입력받으면
1. 내 파일을 검색하고
2. 내장모듈 모아둔 곳에서 검색한
근데 이런 방식이면 request 안에 있는 함수는 사용하지 못한다.(외부 저장되어 있는거라서)

그래서 import 를 활용하는 것


< 데이터 갖고오기 >
import requests

url = '~'
data = requests.get(url).json()  
print(data)

.get() : 가져와라
.json() : 내부 데이터를 JSON(파이썬의 딕셔너리와 비슷함) 형태로 변환해주는 함수. 
```



### API

클라이언트와 서버 사이의 중간단계(요청을 해석하고 요청에 맞는걸 돌려주는 형태, 인터페이스)

- 클라이언트가 원하는 기능을 수행하기 위해 서버 측에 만들어놓은 프로그램
- 서버 측에 특정 주소(URL)로 요청이 오면 정해진 기능을 수행하는 API를 미리 만들어 둡니다.
- 클라이언트는 서버가 미리 만들어 놓은 주소로 요청을 한다.


### 오픈 API

- 외부에서 사용할 수 있도록 무료로 개방된 API
- 사용법은 공식 문서에 명시

<주의점 with APIKEY>

- 악성 사용자의 과다 사용은 서버가 못 견딤
- 이를 위해 회원가입 후 'API KEY'를 활용하여 사용자를 확인 -> 정상적인 사용자임을 확인
- 대다수 오픈 API는 이를 이용해 사용량을 제한하기도 함 ex) CHAT GPT 1시간 이용량 제한 
- => 만약 while문 써서 반복하거나 무한루프 타면 사용량 터짐


### API KEY가 GIT에 안 올라가게 조심해라 (GIT IGNORE 아니면 그냥 코드에서 지워라)
====================================================================================  

# JSON

.json ->우리가 코드를 dict 형태로 사용하면 좋기에 사용하는 것.

< JSON >

Java Script Object Notaion , 데이터를 저장하거나 전송할 떄 많이 사용되는 경량의 텍스트 기반 데이터 형식

서버가 데이터를 클라이언트한테 줄 때 json 형태로 준다.

### *프로그래밍 문법이나 통신 방법이 아니다!!*

단순히 데이터를 표현하는 표현 방법 중 하나

특징?
- 데이터는 중괄호로 둘러싸인 키-값 쌍의 집합으로 표현됨
- 키=문자열 / 값=다양한 데이터 유형을 가질 수 있다
- 값은 쉼표(,)로 구분됨

=> 파이썬의 딕셔너리와 같다

```python

파싱: 데이터를 의미 있는 구조로 분석하고 해석하는 과정
json.loads() : JSON 형식의 문자열을 파싱하여 python Dictionart로 변환


import requests
import pprint
API_key = '87246d75e1ce26e1392a087b3d1d88c5'
#서울의 위도
lat = 37.56

#서울의 경도
lon = 126.97

url =f'https://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={API_key}'
data = requests.get(url).json()
pprint.pprint(data) 

print(data['weather'][0]['description'])


## 추가 공부 과제
data['weather']와 data.get('weather')의 차이가 뭘까?
```


API : 클라이언트가 서버로부터 데이터를 응답받는 도구(수단)


         
            request
        ------------------>
Client        API               Server
        <-----------------
            response