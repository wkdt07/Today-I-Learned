# Rest API1

- Rest Api

- DRF with Single Model

## API

- 두 소프트웨어가 서로 통신할 수 있게 하는 메커니즘

> 클라이언트- 서버처럼 서로 다른 프로그램에서 요청과 응답을 받을 수 있도록 만든 체계

![alt text](image-157.png)

![alt text](image-158.png)

### web API

- 웹 서버 또는 웹 브라우저를 위한 API
- 현대는 주로 오픈 API를 활용

## REST

- Representaitional Stater Transfer
- API Server를 개발하기 위한 일종의 소프트웨어 설계 '방법론'
- 규칙까지는 아님

- *자원(데이터)을 정의*하고 *자원에 대한 주소를 지정*하는 전반적인 방법을 서술

> 각각 API서버 구조를 작성하는 모습이 너무 다르니 어느정도 약속을 만들어서 다같이 API 서버를 구성하자!

![alt text](image-159.png)

## URI -> 자원의 위치

- Url의 상위 버전
- Uniform Resource Identifier(통합 자원 식별자)

- 인터넷에서 리소스(자원, 데이터)를 식별하는 문자열

> 가장 일반적인 URI가 웹 주소로 알려진 URL

![alt text](image-160.png)

> 결국 데이터가 어디있는지 알려주는 주소

### URL의 구성

![alt text](image-161.png)

1. Schema(or Protocol)

- 브라우저가 리소스를 요청하는데 사용해야 하는 규약
- URL의 첫 부분은 브라우저가 어떤 규약을 사용하는지를 나타냄
- 기본적으로 웹은 http를 요구하며, 메일을 열기위한 mailto:, 파일을 전송하기 위한 ftp: 등 다른 프로토콜도 존재

2. Domain Name

![alt text](image-162.png)

3. Port

> 기술적인 문(door)

![alt text](image-163.png)

4. Path

> 실질적인 위치

![alt text](image-164.png)

5. Parameters

> 우리가 요청하는 데이터가 있을 때, ? 뒤에 붙여서 사용하는 것,

> GET 방식일 때

![alt text](image-165.png)

- 대표적으로, 검색할 때 검색어

6. Anchor

- 일종의 북마크.
- 서버에 전송되진 않음
- 말 그대로 닻

- 한 문서가 길다면, 이 문서 내에서 정보에 따라 구분점이 필요
- 나무위키의 1-2 1-3 이런 거라고 생각

![alt text](image-166.png)

## 자원의 행위(CRUD)

크게 4가지. 그럼 뭘로 구분하냐?

### HTTP Request Methods

- 리소스에 대한 행위(수행하고자 하는 동작)를 정의

> HTTP verbs 라고도 함

![alt text](image-167.png)

### HTTP response status codes

- 특정 http 요청이 성공적으로 완료되었는지 여부를 나타냄

![alt text](image-168.png)

- 200번대 : 성공
- 400번대 : 사용자 잘못
- 500번대 : 서버 잘못

## 자원의 표현

![alt text](image-169.png)

![alt text](image-170.png)

![alt text](image-171.png)

![alt text](image-172.png)

![alt text](image-173.png)



## DRF with Single Model

### DRF

- djangoo Rest framework
- 장고에서 Restful API 서버를 쉽게 구축할 수 있도록 도와주는 오픈소스 라이브러리

- rest_framework
- 장고 프로젝트의 installed_apps에도 등록해야함


![Alt text](image-174.png)

![Alt text](image-175.png)


### GET

- 조회


![Alt text](image-176.png)


#### Serialization

- '직렬화'
- 여러 시스템에서 활용하기 위해 데이터 구조나 객체 상태를 나중에 **재구성할 수 있는 포맷으로 변환**하는 과정
- 장고, 자바 등등 어디서 작성된 데이터든 간에 서버측에서 쓸 수 있는 데이터 타입으로 만들어주는 것

> 유연성이 높은 데이터

![Alt text](image-177.png)


![Alt text](image-178.png)



