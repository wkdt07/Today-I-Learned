<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app1">텍스트를 변경</div>
  <div id="app2">DOM 직접 조작</div>
  <div id="app3">{{ message }}</div>

  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script>
    const { createApp, ref } = Vue;

    // App 1: 텍스트를 변경(자바스크립트)
    const app1 = document.querySelector('#app1');
    const updateFunc1 = function() {
      for(let i = 0 ; i < 10000 ; i++) {
        app1.textContent = '변경하기';
      }
    }
    const start1 = performance.now();
    updateFunc1();
    const end1 = performance.now();
    console.log(`textContent 변경 = ${end1 - start1}`);
    // 2번째. 얘가 vue보다 더 빠를 때도 있음

    // App 2: DOM 직접 조작(html 변경)
    const app2 = document.querySelector('#app2');
    const updateFunc2 = function() {
      for(let i = 0 ; i < 10000 ; i++) {
        app2.innerHTML = '변경';
      }
    }
    const start2 = performance.now();
    updateFunc2();
    const end2 = performance.now();
    console.log(`innerHTML 변경 = ${end2 - start2}`);
    // 제일 느림



    // App 3: Vue로 조작
    const app3 = createApp({
      setup() {
        const message = ref('뷰로 조작');
        const updateFunc3 = function() {
          for(let i = 0 ; i < 10000 ; i++) {
            message.value = 'Vue 에서 변경';
          }
        }
        const start3 = performance.now();
        updateFunc3();
        const end3 = performance.now();
        console.log(`Vue 로 변경 = ${end3 - start3}`);

        return { message };
      }
    }).mount('#app3');
    // 평균적으로 얘가 제일 빠름
  </script>
</body>
</html>
