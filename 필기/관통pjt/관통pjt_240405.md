# pjt1

![Alt text](image-2.png)

![Alt text](image-3.png)

## 데이터 사이언스 프로세스

- 필요한 정보를 추출하는 5가지 단계
  - 1. 문제정의: 해결하고자 하는 문제 정의
  - 2. 데이터 수집 : 문제해결에 필요한 데이터 수집
    - 1. API (날씨, 공공데이터)
    - 2. Kaggle(다운로드) -> csv, 주가데이터
  - 3. 데이터 전처리(정제) : 실질적인 분석을 수행하기 위해 데이터를 가공하는 단계
    - 수집한 데이터의 오류 제거(결측치,이상치),데이터 형식 변환 등
    - PANDAS
  - 4. 데이터 분석: 전처리가 완료된 데이터에서 필요한 정보를 추출하는 단계
  - 5. 결과 해석 및 공유 : 의사 결정에 활용하기 위해 결과를 해석하고 시각화 후 공유하는 단계

> 이걸 장고에서 어떻게 할까? -> 웹 사이트와 연동

![Alt text](image-4.png)


![Alt text](image-5.png)



```py
# views.py
from django.shortcuts import render
import matplotlib.pyplot as plt

def index(request):
    x = [1,2,3,4]
    y = [2,4,6,8]
    plt.plot(x,y)
    plt.title('test graph')
    plt.xlabel('x label')
    plt.ylabel('y label')
    
    # plt.show() # 새 창이 열려버린다
    
    context = {
    #    'plt' : plt # 라이브러리를 통채로 넘기는건 아닌거 같다
        
    }
    return render(request,'my_app/index.html')
```


```py
from django.shortcuts import render
import matplotlib.pyplot as plt

def index(request):
    x = [1,2,3,4]
    y = [2,4,6,8]
    plt.plot(x,y)
    plt.title('test graph')
    plt.xlabel('x label')
    plt.ylabel('y label')
    # plt.show() # 새 창이 열려버린다
    
    from io import BytesIO # 이진 데이터를 다루기 위한 버퍼를 제공
    buffer = BytesIO
    plt.savefig(buffer,format = 
                'png')
    # budder에 그래프를 png 형태로 저장
    context = {
       'plt' : plt # 라이브러리를 통채로 넘기는건 아닌거 같다
        
    }
    return render(request,'my_app/index.html')
```


```py
# views.py

from django.shortcuts import render
import matplotlib.pyplot as plt

def index(request):
    x = [1,2,3,4]
    y = [2,4,6,8]
    plt.plot(x,y)
    plt.title('test graph')
    plt.xlabel('x label')
    plt.ylabel('y label')
    # plt.show() # 새 창이 열려버린다
    
    from io import BytesIO # 이진 데이터를 다루기 위한 버퍼를 제공
    
    
    buffer = BytesIO()
    plt.savefig(buffer,format = 'png')# budder에 그래프를 png 형태로 저장
    import base64 # 텍스트와 이진데이터를 서로 변환할 수 있는 인코딩용 모듈
    
    img_base64 = base64.b64encode(buffer.getvalue()).decode('utf-8').replace('\n','') # 그냥 이미지는 이렇게 쓰는구나 라고 생각
    buffer.close()
    
    # 이미지를 웹 페이지에 표시하기 위해서는 이미지 경로가 필요하다.
    
    context = {
    #    'plt' : plt # 라이브러리를 통채로 넘기는건 아닌거 같다
    'image' : f'data:image/png;base64,{img_base64}',
    }
    return render(request,'my_app/index.html',context)
```

만약 csv_path = 'austin_weather.csv'

#### 판다스를 이용한 읽기

```py
csv_path = 'austin_weather.csv' # csv의 경로

# 읽는 법?

import pandas as pd

def example(request):
    # 파일 읽기
    df = pd.read_csv(csv_path)
    context = {
        'df' : df,
    }

```


# 영화 추천 서비스

- 장고 공식 문서 사용
- 키워드를 통해 
  - 내가 뭘 하는가?
  - 번역 돌리기
- 항상 시작할 때 버전 확인 